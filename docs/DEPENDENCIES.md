# チケット依存関係図

## 📊 依存関係マトリックス

| チケット | 依存するチケット | 依存されるチケット |
|---------|----------------|-------------------|
| TICKET-001 | なし | TICKET-002, TICKET-004 |
| TICKET-002 | TICKET-001 | TICKET-003, TICKET-004, TICKET-005, TICKET-006, TICKET-007, TICKET-008 |
| TICKET-003 | TICKET-001, TICKET-002 | TICKET-005, TICKET-006 |
| TICKET-004 | TICKET-001, TICKET-002 | TICKET-005, TICKET-006, TICKET-007, TICKET-008, TICKET-009 |
| TICKET-005 | TICKET-001, TICKET-002, TICKET-003, TICKET-004 | TICKET-009, TICKET-010 |
| TICKET-006 | TICKET-001, TICKET-002, TICKET-003, TICKET-004 | TICKET-007, TICKET-009, TICKET-010 |
| TICKET-007 | TICKET-002, TICKET-004, TICKET-006 | TICKET-008, TICKET-009, TICKET-010 |
| TICKET-008 | TICKET-002, TICKET-004, TICKET-007 | TICKET-010 |
| TICKET-009 | TICKET-004, TICKET-005, TICKET-006, TICKET-007 | TICKET-011 |
| TICKET-010 | TICKET-005, TICKET-006, TICKET-007, TICKET-008, TICKET-009 | TICKET-011 |
| TICKET-011 | TICKET-001〜010（全て） | なし |

## 🔄 詳細な依存関係フロー

### レベル1: 基盤（必須）
```
┌─────────────────────┐
│   TICKET-001        │
│ プロジェクトセットアップ │
└──────────┬──────────┘
           │
           ├───────────────────────┐
           │                       │
           ↓                       ↓
┌──────────────────┐    ┌──────────────────┐
│   TICKET-002     │    │   TICKET-004     │
│ 型定義・データ構造 │    │ 共通コンポーネント │
└────────┬─────────┘    └──────────────────┘
         │
         ↓
┌──────────────────┐
│   TICKET-003     │
│ 九九マスターデータ │
└──────────────────┘
```

### レベル2: コア機能
```
TICKET-002 + TICKET-003 + TICKET-004
           │
           ├─────────────────┐
           │                 │
           ↓                 ↓
┌──────────────────┐  ┌──────────────────┐
│   TICKET-005     │  │   TICKET-006     │
│  レベル選択画面   │  │    問題画面      │
└──────────────────┘  └────────┬─────────┘
                              │
                              ↓
                    ┌──────────────────┐
                    │   TICKET-007     │
                    │   結果表示画面    │
                    └────────┬─────────┘
                             │
                             ↓
                    ┌──────────────────┐
                    │   TICKET-008     │
                    │    印刷機能      │
                    └──────────────────┘
```

### レベル3: UI/UX改善
```
TICKET-005 + TICKET-006 + TICKET-007
           │
           ├─────────────────┐
           │                 │
           ↓                 ↓
┌──────────────────┐  ┌──────────────────┐
│   TICKET-009     │  │   TICKET-010     │
│  アニメーション    │  │ レスポンシブ調整  │
└────────┬─────────┘  └────────┬─────────┘
         │                     │
         └──────────┬──────────┘
                    ↓
           ┌──────────────────┐
           │   TICKET-011     │
           │  Vercelデプロイ   │
           └──────────────────┘
```

## 🎯 並行実装可能なチケット

以下のチケットは同時に実装可能です（別々の開発者が担当できます）:

### グループ1（基盤完成後）
- TICKET-003（九九マスターデータ）
- TICKET-004（共通コンポーネント）

### グループ2（コア機能）
- TICKET-005（レベル選択画面）
- TICKET-006（問題画面）

※ただし、TICKET-006が完了しないとTICKET-007は開始できません

### グループ3（UI/UX改善）
- TICKET-009（アニメーション）
- TICKET-010（レスポンシブ）

※ただし、TICKET-005, TICKET-006, TICKET-007が完了していることが前提

## ⚠️ クリティカルパス

以下のチケットは必ず順番に実装する必要があります:

```
TICKET-001 → TICKET-002 → TICKET-006 → TICKET-007 → TICKET-011
```

このパスが最も時間がかかるため、優先的に進める必要があります。

**合計所要時間（クリティカルパス）**: 約15〜23時間

## 📅 推奨スケジュール

### 1人で実装する場合（約6〜8週間）

**週1: 基盤構築**
- Day 1-2: TICKET-001（2時間）
- Day 3-4: TICKET-002（3時間）
- Day 5-7: TICKET-003（4時間）

**週2: 共通コンポーネント**
- Day 1-5: TICKET-004（5時間）

**週3-4: コア機能**
- Day 1-2: TICKET-005（4時間）
- Day 3-7: TICKET-006（10時間）

**週5: 結果・印刷**
- Day 1-3: TICKET-007（5時間）
- Day 4-7: TICKET-008（6時間）

**週6: UI/UX**
- Day 1-3: TICKET-009（5時間）
- Day 4-7: TICKET-010（8時間）

**週7: デプロイ・調整**
- Day 1-2: TICKET-011（3時間）
- Day 3-7: バグ修正・調整

### 2人で実装する場合（約4〜5週間）

**開発者A（バックエンド・ロジック担当）**
1. TICKET-001, TICKET-002
2. TICKET-003, TICKET-006
3. TICKET-007
4. TICKET-010（ロジック部分）
5. TICKET-011

**開発者B（フロントエンド・UI担当）**
1. TICKET-004
2. TICKET-005
3. TICKET-008
4. TICKET-009
5. TICKET-010（UI部分）

### 3人以上で実装する場合（約2〜3週間）

**開発者A（アーキテクト）**
- TICKET-001, TICKET-002, TICKET-011

**開発者B（コア機能）**
- TICKET-003, TICKET-006, TICKET-007

**開発者C（UI/UX）**
- TICKET-004, TICKET-005, TICKET-008, TICKET-009, TICKET-010

## 🔍 依存関係の理由

### なぜTICKET-002はTICKET-001に依存するのか？
プロジェクト環境がないと型定義ファイルを作成できないため。

### なぜTICKET-006はTICKET-003に依存するのか？
問題画面で九九のデータを使用するため。

### なぜTICKET-007はTICKET-006に依存するのか？
問題画面で生成された解答記録（`AttemptRecord[]`）を結果画面で使用するため。

### なぜTICKET-011は全てに依存するのか？
全ての機能が実装されていないとデプロイする意味がないため。

## 💡 実装のヒント

### 依存関係を減らすテクニック
1. **モック データを使う**: TICKET-003完成前でも仮データでTICKET-006を進められる
2. **インターフェース駆動開発**: 型定義さえあれば実装を進められる
3. **コンポーネントの分離**: 依存を最小化するよう設計する

### ブロックされた時の対処法
1. **並行可能なチケットに移る**
2. **モックデータで進める**
3. **依存チケットの完了を待つ**

---

**最終更新日**: 2025年11月16日
